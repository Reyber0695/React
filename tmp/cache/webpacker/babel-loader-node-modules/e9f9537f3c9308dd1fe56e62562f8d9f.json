{"ast":null,"code":"var _jsxFileName = \"/home/reyber/Descargas/hw-x/rils/app/javascript/components/articles/ArticleList.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addArticle as _addArticle, allArticles } from '../../actions/articles';\nimport Pagination from '../Pagination';\n\nfunction ArticleList(props) {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(3),\n      _useState4 = _slicedToArray(_useState3, 1),\n      postsPerPage = _useState4[0];\n\n  useEffect(function () {\n    props.listArticles();\n  }, []);\n  var indexOfLastPost = currentPage * postsPerPage;\n  var indexOfFirstPost = indexOfLastPost - postsPerPage; //const currentPosts = props.articles.slice(indexOfFirstPost, indexOfLastPost);\n\n  var paginate = function paginate(pageNumber) {\n    return setCurrentPage(pageNumber);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, props.articles.slice(indexOfFirstPost, indexOfLastPost).map(function (article) {\n    return React.createElement(\"div\", {\n      key: article.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/articles/\".concat(article.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, article.title)), article.content, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }));\n  }), React.createElement(Pagination, {\n    postsPerPage: postsPerPage,\n    totalPosts: props.articles.length,\n    paginate: paginate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/articles/new\",\n    className: \"btn btn-outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Create Article\"));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    articles: state.articlesReducer.articles\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addArticle: function addArticle(title, content) {\n      return dispatch(_addArticle(title, content));\n    },\n    listArticles: function listArticles() {\n      return dispatch(allArticles());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleList);","map":{"version":3,"sources":["/home/reyber/Descargas/hw-x/rils/app/javascript/components/articles/ArticleList.jsx"],"names":["React","useState","useEffect","connect","Link","addArticle","allArticles","Pagination","ArticleList","props","currentPage","setCurrentPage","postsPerPage","listArticles","indexOfLastPost","indexOfFirstPost","paginate","pageNumber","articles","slice","map","article","id","title","content","length","mapStateToProps","state","articlesReducer","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,UAAU,IAAVA,WAAR,EAAoBC,WAApB,QAAsC,wBAAtC;AACA,OAAOC,UAAP,MAAuB,eAAvB;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA,kBAEYR,QAAQ,CAAC,CAAD,CAFpB;AAAA;AAAA,MAEnBS,WAFmB;AAAA,MAENC,cAFM;;AAAA,mBAGHV,QAAQ,CAAC,CAAD,CAHL;AAAA;AAAA,MAGnBW,YAHmB;;AAK1BV,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,KAAK,CAACI,YAAN;AACD,GAFQ,EAEP,EAFO,CAAT;AAIA,MAAMC,eAAe,GAAGJ,WAAW,GAAGE,YAAtC;AACA,MAAMG,gBAAgB,GAAGD,eAAe,GAAGF,YAA3C,CAV0B,CAW1B;;AAEA,MAAMI,QAAQ,GAAG,SAAXA,QAAW,CAAAC,UAAU;AAAA,WAAIN,cAAc,CAACM,UAAD,CAAlB;AAAA,GAA3B;;AAGA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIR,KAAK,CAACS,QAAN,CAAeC,KAAf,CAAqBJ,gBAArB,EAAuCD,eAAvC,EAAwDM,GAAxD,CAA4D,UAACC,OAAD,EAAa;AACvE,WACE;AAAK,MAAA,GAAG,EAAEA,OAAO,CAACC,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,oBAAC,IAAD;AAAM,MAAA,EAAE,sBAAeD,OAAO,CAACC,EAAvB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsCD,OAAO,CAACE,KAA9C,CAAJ,CADF,EAEGF,OAAO,CAACG,OAFX,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD,GARD,CAFJ,EAYA,oBAAC,UAAD;AACC,IAAA,YAAY,EAAEZ,YADf;AAEC,IAAA,UAAU,EAAEH,KAAK,CAACS,QAAN,CAAeO,MAF5B;AAGC,IAAA,QAAQ,EAAET,QAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZA,EAiBA,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,eAAT;AAAyB,IAAA,SAAS,EAAC,yBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBA,CADF;AAqBD;;AAED,SAASU,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLT,IAAAA,QAAQ,EAAES,KAAK,CAACC,eAAN,CAAsBV;AAD3B,GAAP;AAGD;;AAED,SAASW,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLzB,IAAAA,UAAU,EAAE,oBAACkB,KAAD,EAAQC,OAAR;AAAA,aAAoBM,QAAQ,CAACzB,WAAU,CAACkB,KAAD,EAAQC,OAAR,CAAX,CAA5B;AAAA,KADP;AAELX,IAAAA,YAAY,EAAE;AAAA,aAAMiB,QAAQ,CAACxB,WAAW,EAAZ,CAAd;AAAA;AAFT,GAAP;AAID;;AAED,eAAeH,OAAO,CAACuB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CrB,WAA7C,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {connect} from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport {addArticle, allArticles} from '../../actions/articles';\nimport Pagination from '../Pagination';\n\nfunction ArticleList(props) {\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(3);\n\n  useEffect(() => { \n    props.listArticles();\n  },[]);\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  //const currentPosts = props.articles.slice(indexOfFirstPost, indexOfLastPost);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n                                                                      \n                                                                                                \n  return (\n    <div>\n      {\n        props.articles.slice(indexOfFirstPost, indexOfLastPost).map((article) => {\n          return(\n            <div key={article.id}>\n              <h2><Link to={`/articles/${article.id}`}>{article.title}</Link></h2>\n              {article.content}\n              <hr/>\n            </div>\n          );\n        })\n      }\n    <Pagination \n     postsPerPage={postsPerPage}\n     totalPosts={props.articles.length}\n     paginate={paginate}\n    />\n    <Link to=\"/articles/new\" className=\"btn btn-outline-primary\">Create Article</Link> \n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    articles: state.articlesReducer.articles\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addArticle: (title, content) => dispatch(addArticle(title, content)),\n    listArticles: () => dispatch(allArticles())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleList);"]},"metadata":{},"sourceType":"module"}